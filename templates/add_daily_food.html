{% extends 'base.html' %}

{% block title %}Food Tracker | {{ title }}{% endblock %}

{% block body %}

{% if messages %}
{% for message in messages %}
<div class="alert alert-{{ message.tags }} alert-dismissible fade show mt-4" role="alert">
  {{ message }}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
{% endif %}

<div class="mt-4 mb-4 d-flex align-items-center justify-content-between">
  <h4>Liste des aliments</h4>
</div>

<table class="table caption-top">
  <thead class="table-light">
    <tr>
      <th scope="col">#</th>
      <th scope="col">Image</th>
      <th scope="col">Nom</th>
      <th scope="col">Catégorie</th>
      <th scope="col">Poids (g)</th>
      <th scope="col">Valeur énergétique (kcal/g)</th>
      <th scope="col">Valeur énergétique totale (kcal)</th>
      <th scope="col">Protein</th>
      <th scope="col">Carboheidrates</th>
      <th scope="col">Fat</th>
      <th scope="col" class="text-center">Ajouter</th>
    </tr>
  </thead>
  <tbody>
    {% for alm in aliments %}
    <tr>
      <th scope="row">{{ forloop.counter }}</th>
      <td>
        <img src="{{ alm.image.url }}" alt="{{ alm.name }}" width="50" height="50">
      </td>
      <td>{{ alm.name }}</td>
      <td>{{ alm.category }}</td>
      <td>{{ alm.weight_g }}</td>
      <td>{{ alm.energy_value }}</td>
      <td>{{ alm.total_energy_value }}</td>
      <td>{{ alm.protein }}</td>
      <td>{{ alm.carboheidrates }}</td>
      <td>{{ alm.fat }}</td>
      <td class="text-center">
        <a class="btn btn-primary" href="{% url 'add_daily_food_config' section=section aliment_id=alm.id %}">
          <i class='far fa-plus-square'></i>
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock body %}